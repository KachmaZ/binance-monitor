import{f as v,a as h,b as B,e as n,h as d,w as _,r as m,o as r,i as e,F as p,j as k,t as c,p as $,k as y,l as x,m as C,q as S,s as I}from"./entry.2c8f746b.js";const f=v("book",{state:()=>({orderBook:{lastUpdateId:0,bids:[],asks:[]}}),getters:{getBook:o=>o.orderBook},actions:{async init(){fetch("https://api.binance.com/api/v3/depth?symbol=BNBBTC&limit=10").then(o=>(o.ok,o.json())).then(o=>{this.orderBook=o})}}}),N=h({setup(){return{store:f()}}});const O=o=>($("data-v-a7c515d3"),o=o(),y(),o),w={class:"orderBook"},D=O(()=>e("thead",null,[e("tr",null,[e("th",null,"Currency"),e("th",null,"Amount")])],-1)),V={style:{background:"red"}},j={style:{background:"green"}};function A(o,s,l,i,u,b){const a=m("v-table");return r(),n("div",w,[d(a,{class:"orderBook__headers"},{default:_(()=>[D]),_:1}),d(a,{class:"orderBook__bids",height:"220px"},{default:_(()=>[e("tbody",null,[(r(!0),n(p,null,k(o.store.getBook.bids,t=>(r(),n("tr",V,[e("td",null,c(t[0]),1),e("td",null,c(t[1]),1)]))),256))])]),_:1}),d(a,{class:"orderBook__asks",height:"220px"},{default:_(()=>[e("tbody",null,[(r(!0),n(p,null,k(o.store.getBook.asks,t=>(r(),n("tr",j,[e("td",null,c(t[0]),1),e("td",null,c(t[1]),1)]))),256))])]),_:1})])}const g=B(N,[["render",A],["__scopeId","data-v-a7c515d3"]]),F=h({components:{OrderBook:g},setup(){const o=f(),{$socket:s}=x(),l=C({data:""});o.init();const i=()=>{s.close()};return S(()=>{s.onopen=()=>{console.log("connection opened")},s.onmessage=({data:u})=>{l.data=u},s.onclose=()=>{console.log("disconnected")}}),{socketData:l,closeSocket:i,store:o}}}),T={class:"index__orderBook"},q={class:""};function E(o,s,l,i,u,b){const a=g,t=m("v-btn");return r(),n(p,null,[e("div",T,[d(a)]),d(t,{onClick:o.closeSocket},{default:_(()=>[I(" Close ")]),_:1},8,["onClick"]),e("div",q,c(o.socketData.data),1)],64)}const M=B(F,[["render",E]]);export{M as default};
